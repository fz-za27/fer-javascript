const miModulo=(()=>{"use strict";let e=[],t=[],l=["C","H","S","D"],r=["A","J","Q","K"];document.querySelector("#btnNuevoJuego");let n=document.querySelector("#btnPedirCarta"),a=document.querySelector("#btnDetener"),s=document.querySelectorAll("small"),d=document.querySelectorAll(".divCartas"),o=(l=1)=>{t=[],e=i();for(let r=0;r<=l;r++)t.push(0);n.disabled=!1,a.disabled=!1,s.forEach(e=>e.innerText=0),d.forEach(e=>e.innerHTML="")},i=()=>{e=[];for(let t=2;t<=10;t++)for(let n of l)e.push(t+n);for(let a of r)for(let s of l)e.push(a+s);return _.shuffle(e)},$=()=>{if(0===e.length)throw"No hay cartas en el deck";return e.pop()},u=e=>{let t=e.substring(0,e.length-1);return isNaN(t)?"A"===t?11:10:1*t},c=e=>{do{if(21===t[t.length-1])break;let l=$();h(l,t.length-1),f(l,t.length-1)}while(t[t.length-1]<=e&&e<=21);b()},h=(e,l)=>{t[l]=t[l]+u(e),s[l].innerText=t[l]},f=(e,t)=>{let l=document.createElement("img");l.classList.add("carta"),l.src=`assets/cartas/${e}.png`,d[t].append(l)},b=()=>{let[e,l]=t;setTimeout(()=>{e===l&&e<=21&&l<=21&&alert("Es un EMPATE!!!! \uD83E\uDD73"),(21===e||e<=21&&(l>21||l<e))&&alert("Gan\xf3 el JUGADOR!!!! \uD83D\uDE2E"),(21===l||l<=21&&(e>21||e<l))&&alert("Gan\xf3 la COMPUTADORA!!!! \uD83E\uDDBE")},100)};return n.addEventListener("click",()=>{let e=$();h(e,0),f(e,0),t[0]>21?(n.disabled=!0,a.disabled=!0,c(t[0])):21===t[0]&&(n.disabled=!0,a.disabled=!0,c(t[0]))}),a.addEventListener("click",()=>{n.disabled=!0,a.disabled=!0,c(t[0])}),{nuevoJuego:o}})();